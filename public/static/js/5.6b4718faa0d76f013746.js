webpackJsonp([5],{106:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(108),n=r.n(a),s=r(42),i=r(43);t.default={created:function(){var e=this;r.i(i.a)().then(function(t){e.user=t}),this.searchTeamItem()},data:function(){var e=this;return{loginUserRole:null,user:null,searching:!1,userList:[],addUser:null,columns:[{title:"成员",key:"account",align:"center"},{title:"操作",key:"action",align:"center",render:function(t,r){var a=r.row;if(a.id!==e.user.id&&(console.log(e.loginUserRole),1===e.loginUserRole))return t("div",[t("Poptip",{props:{title:"您确认移除该用户？",confirm:!0},on:{"on-ok":function(){console.log(e),e.deleteUser(a)}}},[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"}},"移除")]),t("Poptip",{props:{title:"您确认转让团队给该用户？",confirm:!0},on:{"on-ok":function(){console.log(a)}}},[t("Button",{props:{type:"error",size:"small"},style:{marginRight:"5px"}},"转让团队")])])}}],userTableData:[]}},methods:{searchTeamItem:function(){var e=this;r.i(s.a)("teamUserSearch",{id:parseInt(this.$route.params.id)}).then(function(t){var r=!0,a=!1,s=void 0;try{for(var i,o=n()(t.data.data);!(r=(i=o.next()).done);r=!0){var l=i.value;console.log(l),l.id===e.user.id&&(e.loginUserRole=l.roleId)}}catch(e){a=!0,s=e}finally{try{!r&&o.return&&o.return()}finally{if(a)throw s}}e.userTableData=t.data.data})},deleteUser:function(e){var t=this,a=e.id;r.i(s.a)("teamUserDelete",{userId:a,teamId:parseInt(this.$route.params.id)}).then(function(){t.searchTeamItem(),t.$Message.success("删除成功")},function(){t.$Message.error("删除失败")})},subAddUser:function(){var e=this,t=!0,a=!1,i=void 0;try{for(var o,l=n()(this.userList);!(t=(o=l.next()).done);t=!0){var c=o.value;c.account!==this.addUser||r.i(s.a)("teamUserAdd",{userId:parseInt(c.id),teamId:parseInt(this.$route.params.id)}).then(function(){e.addUser="",e.searchTeamItem(),e.$Message.success("添加成功")},function(){e.$Message.error("添加失败")})}}catch(e){a=!0,i=e}finally{try{!t&&l.return&&l.return()}finally{if(a)throw i}}},searchUser:function(e){var t=this;e&&(this.searching=!0,r.i(s.a)("searchUser",{userName:e}).then(function(e){t.searching=!1,t.userList=e.data.data},function(){t.searching=!1}))}}}},108:function(e,t,r){e.exports={default:r(109),__esModule:!0}},109:function(e,t,r){r(49),r(48),e.exports=r(110)},110:function(e,t,r){var a=r(2),n=r(47);e.exports=r(4).getIterator=function(e){var t=n(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return a(t.call(e))}},123:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{padding:"10px"}},[r("div",{staticStyle:{float:"left"}},[r("Select",{attrs:{loading:e.searching,remote:"",filterable:"","remote-method":e.searchUser,size:"small"},model:{value:e.addUser,callback:function(t){e.addUser=t},expression:"addUser"}},e._l(e.userList,function(t){return r("Option",{key:t.id,attrs:{value:t.account}},[e._v(e._s(t.account))])}))],1),e._v(" "),r("i-button",{staticStyle:{margin:"0 10px"},attrs:{type:"primary",size:"small"},on:{click:e.subAddUser}},[e._v("添加成员")]),e._v(" "),r("Table",{staticStyle:{"margin-top":"10px"},attrs:{columns:e.columns,data:e.userTableData}})],1)},staticRenderFns:[]}},90:function(e,t,r){var a=r(41)(r(106),r(123),null,null);e.exports=a.exports}});
//# sourceMappingURL=5.6b4718faa0d76f013746.js.map